# Artorize Processor - Environment Configuration Template
# Copy this file to .env and customize for your deployment

###########################################
# Protection Pipeline Configuration
###########################################

# Enable/disable individual protection layers
ARTORIZE_RUNNER__enable_fawkes=true
ARTORIZE_RUNNER__enable_photoguard=true
ARTORIZE_RUNNER__enable_mist=true
ARTORIZE_RUNNER__enable_nightshade=true

# Watermark strategy: invisible-watermark, tree-ring, or None
ARTORIZE_RUNNER__watermark_strategy=invisible-watermark

# Enable C2PA manifest embedding for provenance tracking
ARTORIZE_RUNNER__enable_c2pa_manifest=true

# Enable per-stage poison mask generation (PNG only)
# Note: Final comparison mask is ALWAYS generated regardless of this setting
ARTORIZE_RUNNER__enable_poison_mask=true

# Poison mask filter ID and CSS class (for HTML output)
ARTORIZE_RUNNER__poison_mask_filter_id=poison-mask
ARTORIZE_RUNNER__poison_mask_css_class=poisoned-image

# Maximum stage dimension for processing (default: 512)
# Full resolution is preserved in final outputs
ARTORIZE_RUNNER__max_stage_dim=512

###########################################
# Gateway Server Configuration
###########################################

# Gateway HTTP server settings
GATEWAY_PORT=8765
GATEWAY_HOST=0.0.0.0
GATEWAY_WORKERS=4

# Enable debug mode (verbose logging)
GATEWAY_DEBUG=false

###########################################
# Storage Configuration
###########################################

# Storage backend: local, s3, or cdn
STORAGE_TYPE=local

# Local storage path (used when STORAGE_TYPE=local)
# STORAGE_LOCAL_PATH=/opt/artorize-processor/outputs

# CDN configuration (when using CDN for SAC mask delivery)
# CDN_URL=https://cdn.example.com
# CDN_API_KEY=your-api-key-here
# CDN_ZONE_ID=your-zone-id

# AWS S3 configuration (when STORAGE_TYPE=s3)
# S3_BUCKET=artorize-outputs
# S3_REGION=us-east-1
# S3_ACCESS_KEY_ID=your-access-key
# S3_SECRET_ACCESS_KEY=your-secret-key
# S3_PUBLIC_URL=https://s3.amazonaws.com/artorize-outputs

# Azure Blob Storage configuration
# AZURE_STORAGE_CONNECTION_STRING=your-connection-string
# AZURE_CONTAINER_NAME=artorize-outputs

###########################################
# Callback Configuration
###########################################

# Backend API endpoint for job completion callbacks
# CALLBACK_URL=https://api.artorize.com/v1/processing/callback

# Callback authentication token
# CALLBACK_AUTH_TOKEN=your-secret-token

# Callback retry settings
# CALLBACK_MAX_RETRIES=3
# CALLBACK_RETRY_DELAY=5

###########################################
# Database Configuration (if applicable)
###########################################

# PostgreSQL connection (for job tracking)
# DATABASE_URL=postgresql://user:password@localhost:5432/artorize

# Redis connection (for job queue)
# REDIS_URL=redis://localhost:6379/0

###########################################
# GPU Configuration
###########################################

# Enable GPU acceleration (requires CUDA-capable GPU)
GPU_ENABLED=false

# CUDA device ID (0 for first GPU, -1 for CPU)
CUDA_DEVICE=0

# Number of worker processes for GPU pipeline
GPU_WORKERS=2

###########################################
# Security Configuration
###########################################

# API authentication token (if required)
# API_AUTH_TOKEN=your-api-token

# JWT secret for token-based auth
# JWT_SECRET=your-jwt-secret-key
# JWT_ALGORITHM=HS256
# JWT_EXPIRATION_HOURS=24

# CORS allowed origins (comma-separated)
# CORS_ORIGINS=https://app.artorize.com,https://dashboard.artorize.com

###########################################
# Logging Configuration
###########################################

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log format: json or text
LOG_FORMAT=text

# Log file paths (systemd handles this in production)
# LOG_FILE=/var/log/artorize/gateway.log
# ERROR_LOG_FILE=/var/log/artorize/gateway-error.log

###########################################
# Performance Tuning
###########################################

# Maximum concurrent processing jobs
MAX_CONCURRENT_JOBS=4

# Job timeout in seconds (default: 300 = 5 minutes)
JOB_TIMEOUT=300

# Request timeout in seconds
REQUEST_TIMEOUT=60

# Maximum upload file size in MB
MAX_UPLOAD_SIZE_MB=100

###########################################
# Monitoring & Metrics
###########################################

# Enable Prometheus metrics endpoint
# METRICS_ENABLED=true
# METRICS_PORT=9090

# Sentry error tracking
# SENTRY_DSN=https://your-sentry-dsn

# Application environment (development, staging, production)
APP_ENV=production

###########################################
# Feature Flags
###########################################

# Enable experimental features
# FEATURE_SAC_BATCH_ENCODING=true
# FEATURE_HASH_ANALYSIS=true
# FEATURE_LSB_DETECTION=true

###########################################
# SAC Protocol Configuration
###########################################

# SAC encoding quality (affects compression)
# SAC_COMPRESSION_LEVEL=6

# Enable SAC encoding only for final comparison (recommended)
SAC_ENCODE_FINAL_ONLY=true

# CDN cache TTL for SAC files (in seconds, default: 1 year)
# SAC_CDN_CACHE_TTL=31536000
